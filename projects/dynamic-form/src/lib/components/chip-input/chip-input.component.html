<mat-chip-listbox
  #chipList
  [multiple]="chipControl?.multiple"
  [required]="chipControl?.validators?.required"
  style="margin-top: 10px"
>
  <div class="chip-options-list">
    <mat-chip-option
      *ngFor="let chip of chipControl?.options"
      [value]="chip.value"
      (click)="onChipClick(chip)"
      [selected]="this.selectedChips.has(chip)"
    >
      <div>{{ chip?.label }}</div>
      <mat-icon
        matChipRemove
        *ngIf="this.selectedChips.has(chip)"
        (click)="onChipClick(chip)"
      >
        cancel
      </mat-icon>
    </mat-chip-option>
    <mat-chip
      *ngIf="chipControl?.meta?.showAddOption"
      (click)="addOption()"
      style="cursor: pointer"
    >
      <span class="add-chips"><mat-icon>add_circle</mat-icon> Add</span>
    </mat-chip>
  </div>
  <mat-slide-toggle
    *ngIf="chipControl?.meta?.showSelectAll"
    [(ngModel)]="enableSelectAll"
    (change)="toggleSelectAll()"
    color="primary"
  ></mat-slide-toggle>
</mat-chip-listbox>
